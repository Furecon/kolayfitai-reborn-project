async function h(l,t=512,d=.8){return new Promise((c,r)=>{const o=new Image;o.onload=()=>{const a=document.createElement("canvas");let{width:e,height:n}=o;(e>t||n>t)&&(e>n?(n=n/e*t,e=t):(e=e/n*t,n=t)),a.width=e,a.height=n;const i=a.getContext("2d");if(!i){r(new Error("Canvas context not available"));return}i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(o,0,0,e,n),a.toBlob(s=>{if(!s){r(new Error("Failed to create blob"));return}const g=new FileReader;g.onload=()=>c(g.result),g.onerror=r,g.readAsDataURL(s)},"image/jpeg",d)},o.onerror=r,o.src=l})}export{h as resizeImage};
